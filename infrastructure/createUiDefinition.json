{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Azure.CreateUIDef",
  "version": "0.1.2-preview",
  "parameters": {
    "basics": [
      {
        "name": "resourcePrefix",
        "type": "Microsoft.Common.TextBox",
        "label": "Resource Prefix",
        "defaultValue": "contentrec",
        "toolTip": "Prefix for all resource names (2-10 characters, lowercase only)",
        "constraints": {
          "required": true,
          "regex": "^[a-z0-9]{2,10}$",
          "validationMessage": "Must be 2-10 characters, lowercase letters and numbers only"
        }
      },
      {
        "name": "environment",
        "type": "Microsoft.Common.DropDown",
        "label": "Environment",
        "defaultValue": "dev",
        "toolTip": "Select the deployment environment",
        "constraints": {
          "allowedValues": [
            {
              "label": "Development",
              "value": "dev"
            },
            {
              "label": "Staging",
              "value": "staging"
            },
            {
              "label": "Production",
              "value": "prod"
            }
          ],
          "required": true
        }
      }
    ],
    "steps": [
      {
        "name": "configuration",
        "label": "Configuration",
        "elements": [
          {
            "name": "infoText",
            "type": "Microsoft.Common.InfoBox",
            "visible": true,
            "options": {
              "icon": "Info",
              "text": "This deployment will create a storage account as a starting point for the Content Recommendation Engine. For full infrastructure deployment, use the Bicep templates with Azure CLI after this deployment completes."
            }
          }
        ]
      }
    ],
    "outputs": {
      "resourcePrefix": "[basics('resourcePrefix')]",
      "environment": "[basics('environment')]",
      "deploymentTimestamp": "[utcNow()]"
    }
  }
}